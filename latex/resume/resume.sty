\ProvidesPackage{resume}

% Font
\usepackage{ragged2e}
\usepackage{helvet}
\usepackage[T1]{fontenc}
\usepackage[dvipsnames]{xcolor}

\usepackage[none]{hyphenat} % no hyphenation

% Packages
\usepackage[letterpaper, margin=0.5in]{geometry}

\usepackage[most]{tcolorbox} % \smallBubble{}
\usepackage{pgffor} % \foreach

\usepackage{varwidth} % \smallBubble{}

\usepackage{hanging} % hanging indent
\usepackage{enumitem} % adjust bullets

\usepackage[backend=biber, style=apa]{biblatex}

\addbibresource{\citesrc} % Your .bib file

% Remove the title from the bibliography
\defbibheading{bibliography}[\refname]{}

% Define a sorting scheme that sorts primarily by sortname (author name)
\DeclareSortingTemplate{byname}{
  \sort{
    \field{sortname}
    \field{author}
    \field{editor}
  }
  \sort{
    \field{year}
  }
}

% % Set the sorting scheme to the custom one
\ExecuteBibliographyOptions{sorting=byname}

% adjust how lists are presented as bullet points
\setlist[itemize]{align=parleft,left=0pt..8pt}

%%%%%%%%%%%%%%%% Colors %%%%%%%%%%%%%%%%%%%%%%%%

% Header Colors
\definecolor{headerBackgroundColor}{HTML}{ffffff}
\definecolor{headerTextColor}{HTML}{8b1540}

% Statement Colors
\definecolor{boxColor_statement}{HTML}{fdf1f7}
\definecolor{borderColor_statement}{HTML}{fdf1f7}

% Skills and Software Colors
\definecolor{boxColor_skillsSoftware}{HTML}{f5fbff}
\definecolor{borderColor_skillsSoftware}{HTML}{f5fbff}
\definecolor{textColor_header_skillsSoftware}{HTML}{005893}

% Default Colors
\definecolor{backgroundColor_default}{HTML}{ffffff}
\definecolor{textColor_header_default}{HTML}{005893}
\definecolor{boxColor_default}{HTML}{f5fbff}
\definecolor{borderColor_default}{HTML}{ffffff}

\renewcommand\familydefault{\sfdefault}

\offinterlineskip
\pagestyle{empty} % no page numbers

\newcommand{\cWL}{3.75in} % column width left
\newcommand{\cWR}{3.75in} % column width right

\newsavebox{\wBox}% width box
\newlength{\wwd}% width of width box
\newlength{\hwd}% height of box

\newcommand{\setHeightWidth}[2]{
  \setlength{\wwd}{#1}% set width of box to natural width
  \setlength{\hwd}{#2}% set height of box to 16pt
}

\newcommand{\smallBubble}[1]{
\sbox{\wBox}{#1}%
%
\ifdim\dimexpr\dimexpr\wd\wBox+2\fboxsep+2\fboxrule\relax>\textwidth\relax% check if content exceeds width of column
  \setHeightWidth{\dimexpr0.6\wd\wBox+2\fboxsep+2\fboxrule\relax}{28pt}% set width of box to 0.6 of column width and height of box to 28pt
\else%
  \setHeightWidth{\dimexpr\wd\wBox+2\fboxsep+2\fboxrule\relax}{16pt}% set width of box to natural width and height of box to 16pt
\fi%
%
\begin{varwidth}{\wwd}%
  \begin{tcolorbox}[colback=boxColor_default, colframe=borderColor_default, arc=2mm, boxrule=0.1mm,left=-1mm, right=0mm, top=0mm, bottom=0mm, before skip=2mm, after skip=2mm, width=\wwd, height=\hwd, valign=center]%
    \begin{center}%
      #1%
    \end{center}%
  \end{tcolorbox}%
\end{varwidth}%
}%
%
\newcommand{\sect}[1]{
  \center{\section*{#1}}
  \vspace{-2mm}
}%
%
\newcommand{\expBullets}[5]{
  %where = #1
  %when = #2
  %who = #3
  %what = #4
  \begin{tcolorbox}[colback=boxColor_default, colframe=borderColor_default, arc=2mm, boxrule=0.1mm, left=1mm, right=1mm, top=1mm, bottom=2mm, width=#1, before skip=2mm, after skip=2mm, valign=center]%
    \flushleft{\textit{#2} \hfill #3}%
    \vspace{-2mm}%
    \flushleft{#4}%
    \vspace{-2mm}%
    \begin{itemize}%
      \foreach \x in #5 {\item \x\vspace{-2mm}}%
    \end{itemize}%
  \end{tcolorbox}%
}%
%%%%%%%%%%%%%%%%%%%%%%% Sections %%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\header}{%
\begin{tcolorbox}[colback=headerBackgroundColor, coltext=headerTextColor, colframe=borderColor_default, arc=0mm, boxrule=-0.5in, left=0.5in, right=0.5in, top=0.5in, bottom=0.05in, before skip=0mm, after skip=0.5in, valign=center]%
  \begin{center}%
  {\email}%
  \hfill%
  {\Huge \name} %
  \hfill%
  {\website}%
  \end{center}%
  \noindent \statementsect%
\end{tcolorbox}%
\vspace{0.1in}%
}%
%
\newcommand{\edu}[4]{
\begin{tcolorbox}[colback=boxColor_default, colframe=borderColor_default, arc=2mm, boxrule=0.1mm,left=1mm, right=1mm, top=1mm, bottom=1mm,before skip=2mm, after skip=2mm, width=\cWL, valign=center]%
  \flushleft{
    \noindent%
    \textit{#1}%
    \hfill%
    #2%
  
    #3\hfill#4%
  }%
\end{tcolorbox}%
}

\newcommand{\email}{zlaborde@iu.edu}
\newcommand{\website}{zacharylaborde.com}
\newcommand{\name}{Zachary Laborde}
\newcommand{\zl}{<b>Laborde, Z.</b>}